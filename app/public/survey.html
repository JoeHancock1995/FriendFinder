<!DOCTYPE html>
<html lang="en">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta charset="utf-8">
  <title>Survey</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

<style>
    .modal {
    display: none; /* Hidden by default */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    padding-top: 100px; /* Location of the box */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    overflow: auto; /* Enable scroll if needed */
    background-color: rgb(0,0,0); /* Fallback color */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
  }
  /* Modal Content */
  .modal-content {
    background-color: #fefefe;
    margin: auto;
    padding: 20px;
    border: 1px solid #888;
    width: 80%;
  }
  /* The Close Button */
  .close {
    color: #aaaaaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
  }
  .close:hover,
  .close:focus {
    color: #000;
    text-decoration: none;
    cursor: pointer;
  }
  </style>

  </head>
<body>

<div class="container">
    <h1>Survey</h1>
<br><hr/><br>
<form>
    <div class="form-group row">
        <label for="inputname3" class="col-sm-2 col-form-label">Your Name</label>
        <div class="col-sm-10">
            <input type="name" class="form-control" id="inputName" placeholder="Name">
        </div>
    </div>
    <div class="form-group row">
        <label for="friend-photo"" class="col-sm-2 col-form-label">Link to photo image of yourself</label>
        <div class="col-sm-10">
            <input type="name" class="form-control" id="friend-photo" placeholder="image link">
        </div>
    </div>
<br><hr/><br>
<div class=Questions>
        <div><p>1. Agree or disagree. You prefer cats over dogs. (One = strongly disagree & five = strongly agree)</p>
                <select id="answerOne">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                </select>
            </div>
        <br>
            <div><p>2. Agree or disagree. You prefer a documentary film over a comedy. (One = strongly disagree & five = strongly agree) </p>
                <select id="answerTwo">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                </select>
            </div>
        <br>
            <div><p>3. Agree or disagree. You prefer non-fiction books to fiction books. (One = strongly disagree & five = strongly agree)</p>
                <select id="answerThree">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                </select>
            </div>
        <br>
            <div><p>4. Agree or disagree. You prefer a cold climate to a warm climate (One = strongly disagree & five = strongly agree)</p>
                <select id="answerFour">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                </select>
            </div> 
        <br>
            <div><p>5.Agree or disagree. You make it a priority to eat well. (One = strongly disagree & five = strongly agree)</p>
                <select id="answerFive">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                    </select>
                </div>
            
        <br>
            <div><p>6. Agree or disagree. You prefer a day at the beach over a day at the museums. (One = strongly disagree & five = strongly agree)</p>
                <select id="answerSix">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                    </select>
            </div>
            
        <br>
            <div><p>7. Agree or disagree. You pride yourself on your knowledge of pop culture. (One = strongly disagree & five = strongly agree)</p>
                <select id="answerSeven">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                    </select>
            </div>
            
        <br>
            <div><p>8. Agree or disagree. You'd rather go to a profesional sports game rather than art exhibit. (One = strongly disagree & five = strongly agree)</p>
            <select id="answerEight">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                    </select>
                </div>
    <br>
        <div><p>9. Agree or disagree. You prefer the city to the quiet country side. (One = strongly disagree & five = strongly agree)</p>
            <select id="answerNine">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
            </select>
        </div>
    <br>
        <div><p>10. Agree or disagree. You prioritize meeting new people and being outgoing. (One = strongly disagree & five = strongly agree)</p>
            <select id="answerTen">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
            </select>
        </div>


<!-- Trigger/Open The Modal -->
<button id="submit" class="submit">Submit</button>

</form>
<!-- Modal -->
<!-- The Modal -->
<div id="resultsModal" class="modal">

        <!-- Modal content -->
        <div class="modal-content">
          <span class="close">&times;</span>
          <p>Results</p>
        </div>
      
      </div>
      
</div>
<hr>
<a href="/api/friends">API Friends List</a> |
<a href="https://github.com/JoeHancock1995/FriendFinder">Github Repo</a>
</div>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

</body>
</html>

<script type="text/javascript">

$(".submit").on("click", function(event) {
event.preventDefault();
// Get the modal
var resultsModal = document.getElementById("resultsModal");
// Get the button that opens the modal
var viewModal = document.getElementById("submit");
// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks the button, open the modal 
$(".submit").on( "click", function(event) {
    $('#resultsModal').show();
});

// When the user clicks on <span> (x), close the modal
$(span).on('click', function(event) {
    $('#resultsModal').hide();
});

// When the user clicks anywhere outside of the modal, close it
$(window).on('click', function(event){
    if(event.target.id == 'resultsModal'){
        $('#resultsModal').css({display: "none"});
    }
});


var newFriend = {
    friendName: $("#inputname").val(),
    friendPhoto: $("#friend-photo").val(),
    scores: [
    $("#answerOne").val(),
    $("#answerTwo").val(),
    $("#answerThree").val(),
    $("#answerFour").val(),
    $("#answerFive").val(),
    $("#answerSix").val(),
    $("#answerSeven").val(),
    $("#answerEight").val(),
    $("#answerNine").val(),
    $("#answerTen").val()]
};
console.log(newFriend);


$.post("/api/friends", newFriend,
function(data) {
    $("#match-name").text(data.friendName);
    $("#match-img").attr("src", data.friendPhoto);
    $("#resultsModal").moddle("toggle");
});
  
});
</script>